<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to odbr • odbr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to odbr">
<meta property="og:description" content="odbr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">odbr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/odbr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to odbr</h1>
            
            <h4 data-toc-skip class="date">2023-11-20</h4>
      
      
      <div class="hidden name"><code>odbr.Rmd</code></div>

    </div>

    
    
<p><strong>odbr</strong> provides helpful functions to download Data
from Brazil’s Origin Destination Surveys both the survey data and its
maps, and also the surveys data dictionaries that explains each
variable.The package provides databases, maps, and data dictionaries in
English,Portuguese, and Spanish. Furthermore, it is possible to download
harmonized data across different cohorts for the same city.</p>
<p><em>obs.:</em> The package is still under development. At the moment,
odbr only includes raw data from the 1977 to 2017 OD surveys from São
Paulo, but it is being expanded to cover more years and cities.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of odbr from <a href="https://CRAN.R-project.org/package=odbr" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"odbr"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">odbr</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of odbr from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or use the development version with latest features</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"hsvab/odbr"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">odbr</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>The package currently includes 2 main functions to download census
data:</p>
<ol style="list-style-type: decimal">
<li><code><a href="../reference/read_od.html">read_od()</a></code></li>
<li><code><a href="../reference/read_map.html">read_map()</a></code></li>
</ol>
<p><strong>odbr</strong> also includes a support function to help users
navigate databases, providing convenient information on data variables
through data dictionaries in 3 languages (English - en, Portuguese from
Brazil - pt and Spanish - es):</p>
<ol start="3" style="list-style-type: decimal">
<li><code>read_dicitionary()</code></li>
</ol>
<p>The syntax of all <code>odbr</code> functions operate on the same
logic so it becomes intuitive to download any data set using a single
line of code. Like this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">odbr</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return data from OD Surveys database as data.frame</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_od.html">read_od</a></span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="st">"Sao Paulo"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1977</span>,</span>
<span>  harmonize <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return zone data from OD Surveys database as sf object at a given city and year</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_map.html">read_map</a></span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="st">"Sao Paulo"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1977</span>,</span>
<span>  harmonize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  geometry <span class="op">=</span> <span class="st">"zone"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return data dictionary from OD Surveys, as data.frame, at a given city and year</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_dictionary.html">read_dictionary</a></span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="st">"Sao Paulo"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1977</span>,</span>
<span>  harmonize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  language <span class="op">=</span> <span class="st">"pt"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="available-datasets">Available datasets:<a class="anchor" aria-label="anchor" href="#available-datasets"></a>
</h3>
<p><strong>The original geodetic reference system remained
unchanged.</strong></p>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th>City</th>
<th>Years available</th>
<th>Harmonized</th>
<th>Dictionary languages</th>
<th>Source</th>
</tr></thead>
<tbody><tr class="odd">
<td>São Paulo</td>
<td>1977, 1987, 1997, 2007, 2017</td>
<td>No</td>
<td>en, es, pt-br</td>
<td><a href="https://transparencia.metrosp.com.br/dataset/pesquisa-origem-e-destino" class="external-link">Metrô-SP</a></td>
</tr></tbody>
</table>
<p><strong>There is no harmonized data available yet.</strong></p>
<p><em>All harmonized datasets use geodetic reference system
“SIRGAS2000”, CRS(4674).</em></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Haydee Svab, Beatriz Milz, Diego Rabatone Oliveira, Rafael H. M. Pereira.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
