<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to odbr • odbr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to odbr">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">odbr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/odbr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hsvab/odbr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to odbr</h1>
            
            <h4 data-toc-skip class="date">2024-08-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hsvab/odbr/blob/main/vignettes/odbr.Rmd" class="external-link"><code>vignettes/odbr.Rmd</code></a></small>
      <div class="d-none name"><code>odbr.Rmd</code></div>
    </div>

    
    
<p><strong>odbr</strong> provides helpful functions to download Data
from Brazil’s Origin Destination Surveys both the survey data and its
maps, and also the surveys data dictionaries that explains each
variable.The package provides databases, maps, and data dictionaries in
English,Portuguese, and Spanish. Furthermore, it is possible to download
harmonized data across different cohorts for the same city.</p>
<p><em>obs.:</em> The package is still under development. At the moment,
odbr only includes raw data from the 1977 to 2017 OD surveys from São
Paulo, but it is being expanded to cover more years and cities.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of odbr from <a href="https://CRAN.R-project.org/package=odbr" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"odbr"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hsvab.github.io/odbr/" class="external-link">odbr</a></span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of odbr from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or use the development version with latest features</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"hsvab/odbr"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hsvab.github.io/odbr/" class="external-link">odbr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>The package currently includes 2 main functions to download census
data:</p>
<ol style="list-style-type: decimal">
<li><code><a href="../reference/read_od.html">read_od()</a></code></li>
<li><code><a href="../reference/read_map.html">read_map()</a></code></li>
</ol>
<p><strong>odbr</strong> also includes a support function to help users
navigate databases, providing convenient information on data variables
through data dictionaries in 3 languages (English - en, Portuguese from
Brazil - pt, and Spanish - es):</p>
<ol start="3" style="list-style-type: decimal">
<li><code>read_dicitionary()</code></li>
</ol>
<p>The syntax of all <code>odbr</code> functions operate on the same
logic so it becomes intuitive to download any data set using a single
line of code. Like this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hsvab.github.io/odbr/" class="external-link">odbr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return data from OD Surveys database as data.frame</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_od.html">read_od</a></span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="st">"Sao Paulo"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1977</span>,</span>
<span>  harmonize <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return zone data from OD Surveys database as sf object at a given city and year</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_map.html">read_map</a></span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="st">"Sao Paulo"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1977</span>,</span>
<span>  harmonize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  geometry <span class="op">=</span> <span class="st">"zone"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return data dictionary from OD Surveys, as data.frame, at a given city and year</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_dictionary.html">read_dictionary</a></span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="st">"Sao Paulo"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">1977</span>,</span>
<span>  harmonize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  language <span class="op">=</span> <span class="st">"pt"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="available-datasets">Available datasets:<a class="anchor" aria-label="anchor" href="#available-datasets"></a>
</h3>
<p><strong>The original geodetic reference system remained
unchanged.</strong></p>
<table class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th>City</th>
<th>Years available</th>
<th>Harmonized</th>
<th>Dictionary languages</th>
<th>Source</th>
</tr></thead>
<tbody><tr class="odd">
<td>São Paulo</td>
<td>1977, 1987, 1997, 2007, 2017</td>
<td>No</td>
<td>en, es, pt-br</td>
<td><a href="https://transparencia.metrosp.com.br/dataset/pesquisa-origem-e-destino" class="external-link">Metrô-SP</a></td>
</tr></tbody>
</table>
<p><strong>There is no harmonized data available yet.</strong></p>
<p><em>All harmonized datasets use geodetic reference system
“SIRGAS2000”, CRS(4674).</em></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Haydee Svab, Beatriz Milz, Diego Rabatone Oliveira, Rafael H. M. Pereira.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
